# Медицинская информационная система

Веб-приложение для автоматизации расчёта, учёта и отслеживания назначения и фактической выдачи лекарственных препаратов пациентам.

## Описание

Система предназначена для медицинского персонала и обеспечивает:

- Управление базой данных пациентов
- Каталог медицинских препаратов с полной информацией по СМНН
- Учёт назначений лекарственных препаратов
- Регистрацию фактических выдач препаратов
- Автоматический расчёт остаточной потребности
- Формирование сводных отчётов с экспортом в CSV

## Технологический стек

- **Backend**: Python 3.11 + Flask
- **Frontend**: HTML5, CSS3, JavaScript, Bootstrap 5
- **База данных**: SQLite
- **Дополнительно**: Font Awesome для иконок

## Функциональность

### 1. Управление пациентами
- Добавление, редактирование и удаление пациентов
- Поиск и фильтрация по ФИО, диагнозу, лечащему врачу
- Валидация данных

### 2. Каталог медицинских препаратов
- Полная информация по СМНН (Стандартизированное международное непатентованное наименование)
- Торговые наименования, формы выпуска, дозировки
- Цены и характеристики препаратов
- Поиск и фильтрация по различным критериям

### 3. Назначения препаратов
- Создание назначений с указанием пациента, препарата, даты и количества
- Валидация корректности назначений
- История назначений для каждого пациента

### 4. Фактические выдачи
- Регистрация выдач препаратов пациентам
- Контроль соответствия выдач назначениям
- Предотвращение превышения назначенного количества

### 5. Расчётная логика
- Автоматический расчёт остаточной потребности для каждого пациента
- Учёт всех назначений и выдач
- Валидация при регистрации выдач

### 6. Отчётность
- Сводный отчёт по препаратам с расчётом потребности и стоимости
- Статистика по наиболее назначаемым и выдаваемым препаратам
- Экспорт отчётов в CSV формат
- Возможность печати отчётов

## Установка и запуск

### Требования
- Python 3.11 или выше
- pip (менеджер пакетов Python)

### Установка зависимостей
```bash
cd medical_app
pip install flask
```

### Запуск приложения
```bash
python app.py
```

Приложение будет доступно по адресу: http://localhost:5000

### Первый запуск
При первом запуске автоматически:
- Создаётся база данных SQLite
- Создаются все необходимые таблицы
- Добавляются примерные данные для демонстрации

## Структура проекта

```
medical_app/
├── app.py                 # Основной файл приложения
├── config.py             # Конфигурация
├── database.py           # Работа с базой данных
├── models.py             # Модели данных
├── routes.py             # Маршруты Flask
├── business_logic.py     # Бизнес-логика и расчёты
├── templates/            # HTML шаблоны
│   ├── base.html
│   ├── index.html
│   ├── patients.html
│   ├── patient_form.html
│   ├── medicines.html
│   └── reports.html
├── static/               # Статические файлы
│   ├── css/
│   │   └── style.css
│   └── js/
│       └── script.js
└── medical_app.db        # База данных SQLite (создаётся автоматически)
```

## Использование

### Быстрый старт
1. Запустите приложение
2. Откройте браузер и перейдите на http://localhost:5000
3. Добавьте пациентов в разделе "Пациенты"
4. Внесите информацию о медицинских препаратах
5. Создайте назначения для пациентов
6. Регистрируйте фактические выдачи препаратов
7. Формируйте отчёты для анализа потребности

### Основные операции

#### Добавление пациента
1. Перейдите в раздел "Пациенты"
2. Нажмите "Добавить пациента"
3. Заполните форму с данными пациента
4. Сохраните изменения

#### Добавление препарата
1. Перейдите в раздел "Препараты"
2. Нажмите "Добавить препарат"
3. Заполните все поля согласно СМНН
4. Сохраните изменения

#### Создание назначения
1. Перейдите в раздел "Назначения"
2. Нажмите "Добавить назначение"
3. Выберите пациента и препарат
4. Укажите дату и количество упаковок
5. Сохраните назначение

#### Регистрация выдачи
1. Перейдите в раздел "Выдачи"
2. Нажмите "Добавить выдачу"
3. Выберите пациента и препарат
4. Укажите дату и количество выданных упаковок
5. Система автоматически проверит соответствие назначениям

#### Формирование отчётов
1. Перейдите в раздел "Отчёты"
2. Просмотрите сводный отчёт по препаратам
3. Используйте кнопку "Экспорт в CSV" для сохранения данных
4. Просматривайте статистику по препаратам

## Особенности

### Валидация данных
- Проверка корректности введённых данных
- Предотвращение дублирования записей
- Контроль соответствия выдач назначениям

### Безопасность
- Валидация всех пользовательских данных
- Защита от SQL-инъекций через параметризованные запросы
- Обработка ошибок и исключений

### Удобство использования
- Интуитивный русскоязычный интерфейс
- Адаптивный дизайн для различных устройств
- Поиск и фильтрация данных
- Подтверждение критических операций

### Расширяемость
- Модульная архитектура
- Возможность добавления новых отчётов
- Легкое расширение функциональности

## Техническая информация

### База данных
Используется SQLite с следующими таблицами:
- `patients` - информация о пациентах
- `medicines` - каталог медицинских препаратов
- `prescriptions` - назначения препаратов
- `dispensings` - фактические выдачи

### API
Приложение предоставляет REST API для:
- Получения остаточной потребности пациента
- Получения сводной информации по пациенту
- Экспорта отчётов

### Производительность
- Индексы для ускорения поиска
- Оптимизированные SQL-запросы
- Кэширование статических ресурсов

## Поддержка

При возникновении вопросов или проблем:
1. Проверьте логи приложения
2. Убедитесь в корректности данных
3. Перезапустите приложение при необходимости

## Лицензия

Проект разработан для внутреннего использования в медицинских учреждениях.

## Версия

Текущая версия: 1.0

Дата релиза: 31 июля 2025 года

